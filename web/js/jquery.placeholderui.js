!function($,e){function t(e,t){this.element=$(e),this.options=$.extend({},o,t),this._defaults=o,this._name=i.toLowerCase(),this._placeholder="",this.holder=$("<div />").addClass(this._name),this.init()}var i="PlaceholderUI",n=(e.VBArray&&!e.XMLHttpRequest,e.document),r=["destroy","placeholder","refresh"],o={force:!1,relative:!0,css:null,timeout:0};t.prototype.init=function(){var t=this;return t.force=!(!t.options.force&&"placeholder"in n.createElement("input")),t.force?(t.options.relative?t.holder.insertAfter(this.element):t.holder.appendTo("body"),t.options.css&&t.holder.css(t.options.css),t.element.bind("focus",function(){t.holder.css("opacity",.5)}).bind("blur",function(){t.holder.css("opacity",1)}).bind("keyup paste change _init",function(){$(this).val()?t.holder.hide():$(this).is(":visible")?t.holder.show():t.holder.hide()}),t.holder.bind("click",function(){t.element.trigger("focus")}),t.placeholder(),!t.options.relative&&$(e).bind("resize",function(){t.refresh()}),t.element.triggerHandler("_init"),t):t},t.prototype._css=function(e){return parseInt(this.element.css(e).replace(/[^\d]/g,"")||0)},t.prototype.placeholder=function(t){var i=this,n=i.element.get(0),r=t||i.element.attr("placeholder");return"undefined"!=typeof r&&r!==!1||!n.attributes.placeholder||(r=n.attributes.placeholder.value),i._placeholder=r||"",i.options.force?i.element.removeAttr("placeholder"):i.element.attr("placeholder",i._placeholder),e.setTimeout(function(){i.refresh()},i.options.timeout),i},t.prototype.refresh=function(){var e=this,t=e.options.relative?e.element.position():e.element.offset(),i={};return e.force?(e.element.is(":visible")&&!e.element.val()?e.holder.show():e.holder.hide(),i.left=t.left+e._css("border-left-width")+e._css("padding-left")+e._css("margin-left")+2,i.top=t.top+e._css("border-top-width")+e._css("padding-top")+e._css("margin-top"),i.width=e.element.width(),i["line-height"]=e._css(e.element.is("textarea")?"line-height":"height")+"px",i["text-indent"]=e.element.css("text-indent"),e.holder.css(i).html(e._placeholder),e):e},$.fn[i]=function(e){var n,o,s,l;if("string"==typeof e){if(n=arguments,o=e,s=function(){for(var e=0;e<r.length;e++)if(r[e]===o)return!0;return!1},Array.prototype.shift.call(n),"check"==o)return!!this.data("plugin_"+i);if(s())return($(this).is("form")?$(this).find("input:text,input:password,textarea"):$(this)).each(function(){var e=$(this).data("plugin_"+i);e&&e[o]&&e[o].apply(e,n)});if(l=this.first().data("plugin_"+i),l&&l[o])return l[o].apply(l,n);throw new TypeError(i+' has no method "'+o+'"')}return this.each(function(){($(this).is("form")?$(this).find("input:text,input:password,textarea"):$(this)).each(function(){var n=$(this).data("plugin_"+i);n||$(this).data("plugin_"+i,new t(this,e))}),$(this).is("form")&&$(this).data("plugin_"+i,!0)})}}(jQuery,window);